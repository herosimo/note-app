(this["webpackJsonpnote-app"]=this["webpackJsonpnote-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),c=n.n(r),i=n(1),s=(n(9),function(e){var t=e.addNoteHandler;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-flex justify-content-between align-items-center rounded text-white bg-dark p-3 mb-3"},o.a.createElement("h5",{className:"m-0"},"Simple Note"),o.a.createElement("button",{type:"button",className:"btn btn-sm btn-success",onClick:t},"Add Note")))}),l=function(e){var t=e.noteList,n=e.editNoteHandler,a="list-group-item text-left note-list";return e.activeNoteId===t.id&&(a="list-group-item text-left note-list  border-success bg-light"),o.a.createElement("li",{className:a,onClick:function(){return n(t.id)}},o.a.createElement("h6",{className:"my-0"},t.title),o.a.createElement("small",{className:"text-muted"},t.date))},u=function(e){var t=e.noteLists,n=e.editNoteHandler,a=e.activeNoteId;return o.a.createElement("div",{className:"card w-100 overflow-recentNotes"},o.a.createElement("ul",{className:"list-group list-group-flush"},t.map((function(e){return o.a.createElement(l,{key:e.id,noteList:e,editNoteHandler:n,activeNoteId:a})}))))},d=function(e){var t=e.addNoteHandler,n=e.noteLists,a=e.editNoteHandler,r=e.activeNoteId;return o.a.createElement("div",null,o.a.createElement(s,{addNoteHandler:t}),o.a.createElement(u,{noteLists:n,editNoteHandler:a,activeNoteId:r}))},m=function(e){var t=e.saveNoteHandler,n=e.activeNote,r=e.deleteNoteHandler,c=Object(a.useState)("New Note"),s=Object(i.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(""),m=Object(i.a)(d,2),f=m[0],v=m[1];Object(a.useEffect)((function(){n?(u(n[0].title),v(n[0].note)):(u("New Note"),v(""))}),[n]);var b;return n&&(b=o.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:r},"Delete")),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card border-success mb-3 w-100 "},o.a.createElement("div",{className:"card-header border-success d-flex justify-content-between align-items-center"},o.a.createElement("input",{type:"text",className:"input-title card-title my-0 mr-3 h5",value:l,onChange:function(e){return u(e.target.value)}}),o.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary mr-2",onClick:function(){var e=new Date((new Date).toString().split("GMT")[0]+" UTC").toISOString().split(".")[0].replace("T"," ");t({title:l,note:f,date:e})}},"Save"),b),o.a.createElement("div",{className:"card-body text-dark overflow-content"},o.a.createElement("textarea",{className:"input-textarea",value:f,onChange:function(e){return v(e.target.value)},autoFocus:!0}))))},f=function(e){var t,n,r,c=e.message,s=Object(a.useState)(),l=Object(i.a)(s,2),u=l[0],d=l[1];(Object(a.useEffect)((function(){return d(c),setTimeout((function(){d()}),3e3),function(){return clearTimeout(alert)}}),[c]),u)&&("save"===c?(n="Saved successfully!",r="alert alert-success alert-dismissible fade show"):"delete"===c?(n="Deleted successfully!",r="alert alert-warning alert-dismissible fade show"):"error"===c&&(n="Something went wrong!",r="alert alert-danger alert-dismissible fade show"),t=o.a.createElement("div",{className:r,role:"alert"},n,o.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true",onClick:function(){d()}},"\xd7"))));return o.a.createElement("div",null,t)};var v=function(){var e,t,n=Object(a.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)([]),u=Object(i.a)(l,2),v=u[0],b=u[1],p=Object(a.useState)(),h=Object(i.a)(p,2),N=h[0],g=h[1],E=Object(a.useState)(),w=Object(i.a)(E,2),j=w[0],y=w[1],O=Object(a.useState)(),S=Object(i.a)(O,2),k=S[0],C=S[1],H="https://note-app-9a9fe.firebaseio.com";return Object(a.useEffect)((function(){fetch("".concat(H,'/notes.json?orderBy="date"&startAt=0')).then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e)t.push({id:n,title:e[n].title,note:e[n].note,date:e[n].date});b(t.reverse())})).catch((function(e){return C("error")}))}),[k]),c&&(t=j?function(e){fetch("".concat(H,"/notes/").concat(j,".json"),{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){C(),C("save")})).catch((function(e){return C("error")}))}:function(e){fetch("".concat(H,"/notes.json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){C(),s(!1),C("save")})).catch((function(e){return C("error")}))},e=o.a.createElement(m,{saveNoteHandler:t,activeNote:N,deleteNoteHandler:function(){fetch("".concat(H,"/notes/").concat(j,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){C(),s(!1),g(),y(),C("delete")})).catch((function(e){return C("error")}))}})),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container-fluid py-3"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 mb-3 mb-md-0"},o.a.createElement(d,{addNoteHandler:function(){s(!0),g(),y()},noteLists:v,editNoteHandler:function(e){var t=v.filter((function(t){return t.id===e}));y(e),g(t),s(!0)},activeNoteId:j})),o.a.createElement("div",{className:"col-md-8"},e))),o.a.createElement(f,{message:k}))},b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/note-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/note-app","/service-worker.js");b?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):p(t,e)}))}}()},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.022f23a7.chunk.js.map